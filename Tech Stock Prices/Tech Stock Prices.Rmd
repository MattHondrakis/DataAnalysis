---
title: "Stock Prices of Popular Tech Companies"
author: "Matthew"
date: "2023-02-02"
output: 
  github_document:
    toc: true
editor_options: 
  chunk_output_type: console
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE, warning = FALSE, dpi = 500, fig.showtext = TRUE)
library(tidyverse)
library(scales)
library(patchwork)
library(sysfonts)
library(showtext)
font_add_google("Roboto Slab", "Roboto")
theme_set(theme_minimal())
theme_update(plot.title = element_text(hjust = 0.5),
             text = element_text(family = "Roboto"))
```

# Read Data

```{r}
files <- list.files(path = "./Data")

stocks <- read_csv(paste0("./Data/", files), 
                   id = "name") %>% 
  mutate(name = gsub("./Data/", "", name),
         name = gsub("\\.csv","",name)) %>% 
  rename_with(tolower)
```

The code starts by creating a list of files in the directory **`"./Data"`** using the **`list.files`** function and storing it in the object **`files`**.

Next, the **`read_csv`** function is used to read in each file in the **`files`** list and create a new dataframe called **`stocks`**. The **`paste0`** function is used to concatenate the path **`"./Data/"`** with each file name in the **`files`** list.

The **`stocks`** dataframe is then processed further using the **`mutate`** function to modify the "name" column. The first call to **`gsub`** uses the **`gsub`** function to replace the string **`"./Data/"`** in the "name" column with an empty string. The second call to **`gsub`** uses the **`gsub`** function to remove the **`".csv"`** extension from each string in the "name" column.

Finally, the modified "name" column is stored back in the **`stocks`** dataframe.

# Exploratory Data Analysis

```{r}
stocks %>% 
  ggplot(aes(date, open)) +
  geom_line(aes(color = name)) +
  labs(x = "", y = "Open", color = "",
       title = "Opening Stock Prices of 14 Popular Tech Companies",
       subtitle = "")
```
